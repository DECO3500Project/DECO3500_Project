const int trigPin2 = 7;
const int echoPin2 = 8;
const int vibOutPin2 = 2;

long duration, cm;
bool vibrationActive = false;

void setup() {
  Serial.begin(9600); 
  pinMode(trigPin2, OUTPUT);
  pinMode(echoPin2, INPUT);
  pinMode(vibOutPin2, OUTPUT);
}

void loop() {

  long distance2 = readDistance(trigPin2, echoPin2);
  
 
  Serial.print(distance2);
  Serial.println();


  if (Serial.available() > 0) {
    String receivedData = Serial.readStringUntil('\n');
    long distance1 = receivedData.toInt();


    if (distance1 <= 5 && distance2 <= 5) {
      digitalWrite(vibOutPin2, HIGH); 
      vibrationActive = true;
    } else {
      digitalWrite(vibOutPin2, LOW); 
      vibrationActive = false;
    }
  }

  delay(100); 
}

long readDistance(int trigPin, int echoPin) {
  digitalWrite(trigPin, LOW);
  delayMicroseconds(2);
  digitalWrite(trigPin, HIGH);
  delayMicroseconds(10);
  digitalWrite(trigPin, LOW);
  
  long duration = pulseIn(echoPin, HIGH);
  return microsecondsToCentimeters(duration);
}

long microsecondsToCentimeters(long microseconds) {
  return microseconds / 29 / 2;
}

